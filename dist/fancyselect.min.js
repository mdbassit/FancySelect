/*!
 * Copyright (c) 2021 Momo Bassit.
 * Licensed under the MIT License (MIT)
 * https://github.com/mdbassit/fancySelect
 */
!function(a,m,e){var r=null,l=null,s="",o=null,g=0;function t(e){m.querySelectorAll(e=e||"select:not(.fsb-ignore)").forEach(n)}function n(e,t){if(!e.nextElementSibling||!e.nextElementSibling.classList.contains("fsb-select")){var n=e.children,i=e.parentNode,a=m.createElement("span"),r=m.createElement("span"),l=m.createElement("button"),s=m.createElement("span"),o=m.createElement("span"),c=g++;e.classList.add("fsb-original-select"),r.id="fsb_"+c+"_label",r.className="fsb-label",r.textContent=h(e,i),l.id="fsb_"+c+"_button",l.className="fsb-button",l.innerHTML="&nbsp;",l.setAttribute("type","button"),l.setAttribute("aria-disabled",e.disabled),l.setAttribute("aria-haspopup","listbox"),l.setAttribute("aria-expanded","false"),l.setAttribute("aria-labelledby","fsb_"+c+"_label fsb_"+c+"_button"),s.className="fsb-list",s.setAttribute("role","listbox"),s.setAttribute("tabindex","-1"),s.setAttribute("aria-labelledby","fsb_"+c+"_label");for(var d=0,u=n.length;d<u;d++){var f=v(n[d],t),b=f.item,p=f.selected,f=f.itemLabel;s.appendChild(b),p&&(l.innerHTML=f)}a.className="fsb-select",a.appendChild(r),a.appendChild(l),a.appendChild(s),a.appendChild(o),e.style.display="none",e.nextSibling?i.insertBefore(a,e.nextSibling):i.appendChild(a),s.firstElementChild&&((a=m.createElement("span")).style.width=s.firstElementChild.offsetWidth+"px",o.className="fsb-resize",o.appendChild(a))}}function i(e,t){var n=e.children,i=e.parentNode,a=e.nextElementSibling;if(a&&a.classList.contains("fsb-select")){var r=a.firstElementChild,l=r.nextElementSibling,s=l.nextElementSibling,a=s.nextElementSibling,o=m.createDocumentFragment();r.textContent=h(e,i),l.setAttribute("aria-disabled",e.disabled);for(var c=0,d=n.length;c<d;c++){var u=v(n[c],t),f=u.item,b=u.selected,u=u.itemLabel;o.appendChild(f),b&&(l.innerHTML=u)}for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(o),s.firstElementChild&&(a.firstElementChild.style.width=s.firstElementChild.offsetWidth+"px")}}function h(t,e){var n,i=t.id;if("LABEL"===e.nodeName?n=e:void 0!==i&&(n=m.querySelector('label[for="'+i+'"]')),n){i=[].filter.call(n.childNodes,function(e){return 3===e.nodeType}).map(function(e){return e.textContent.replace(/\s+/g," ").trim()}).filter(function(e){return""!==e})[0];if(i)return n.onclick=function(e){t.nextElementSibling.querySelector("button").click(),e.preventDefault(),e.stopImmediatePropagation()},i}return""}function v(e,t){var n=m.createElement("span"),i=e.selected,t=function(e,t){if("function"==typeof t)return t(e);t=e.text,e=e.getAttribute("data-icon"),t=""!==t?t:"&nbsp;";t="<span>"+t+"</span>",null!==e&&(t='<svg aria-hidden="true"><use href="'+e+'"></use></svg> '+t);return t}(e,t);return n.className="fsb-option",n.innerHTML=t,n.setAttribute("role","option"),n.setAttribute("tabindex","-1"),n.setAttribute("aria-selected",i),e.disabled&&n.setAttribute("aria-disabled",e.disabled),{item:n,selected:i,itemLabel:t}}function c(e){var t=e.getBoundingClientRect(),n=e.nextElementSibling,i=(i=n.querySelector('[aria-selected="true"]'))||n.firstElementChild;e.parentNode.className="fsb-select",e.setAttribute("aria-expanded","true"),i.focus(),r=e,l=i,t.y+t.height+n.offsetHeight>m.documentElement.clientHeight&&(e.parentNode.className="fsb-select fsb-top")}function d(e){var t=m.querySelector('.fsb-button[aria-expanded="true"]');t&&(t.setAttribute("aria-expanded","false"),e&&t.focus(),s="",o=null),l=r=null}function u(e){var t=e.parentNode,n=t.previousElementSibling,i=[].indexOf.call(t.children,e),a=t.querySelector('[aria-selected="true"]'),t=t.parentNode.previousElementSibling;a&&a.setAttribute("aria-selected","false"),e.setAttribute("aria-selected","true"),n.innerHTML=e.innerHTML,t.selectedIndex=i,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))}function f(e){e=function(e,t){var n,i=[].map.call(e.children,function(e){return e.textContent.trim().toLowerCase()}),a=b(i,t)[0];if(a)return e.children[i.indexOf(a)];if((n=t.split("")).every(function(e){return e===n[0]})){a=b(i,t[0]),a=a[(t.length-1)%a.length];return e.children[i.indexOf(a)]}return null}(e,s);e&&e.focus()}function b(e,t){return e.filter(function(e){return 0===e.indexOf(t.toLowerCase())})}function p(e){var t=e.key,n=e.altKey,i=e.ctrlKey,e=e.metaKey;return!(1!==t.length||n||i||e)&&(o&&a.clearTimeout(o),o=a.setTimeout(function(){s=""},500),s+=t,1)}function E(e,t){if(e){if(!e.getAttribute("aria-disabled"))return(l=e).focus();var n=Array.from(e.parentNode.children),e=n.indexOf(e);if("next"===t){for(var i=e+1,a=n.length;i<a;i++)if(!n[i].getAttribute("aria-disabled"))return l=n[i],n[i].focus()}else for(var r=e-1;0<=r;r--)if(!n[r].getAttribute("aria-disabled"))return l=n[r],n[r].focus()}}function x(e,t,n,i){var a=Element.prototype.matches||Element.prototype.msMatchesSelector;"string"==typeof n?e.addEventListener(t,function(e){a.call(e.target,n)&&i.call(e.target,e)}):(i=n,e.addEventListener(t,i))}function y(e,t){t=void 0!==t?t:[],"loading"!==m.readyState?e.apply(void 0,t):m.addEventListener("DOMContentLoaded",function(){e.apply(void 0,t)})}function A(){y(t)}x(m,"click",".fsb-button",function(e){var t=r===e.target;d(),t||c(e.target),e.preventDefault(),e.stopImmediatePropagation()}),x(m,"keydown",".fsb-button",function(e){var t=e.target,n=t.nextElementSibling,i=!0;switch(e.key){case"ArrowUp":case"ArrowDown":case"Enter":case" ":c(t);break;default:p(e)?(c(t),f(n)):i=!1}i&&e.preventDefault()}),x(m.documentElement,"mousemove",'.fsb-option:not([aria-disabled="true"])',function(e){e.target.focus(),l=e.target}),x(m,"click",".fsb-option",function(e){var t=e.target;t.getAttribute("aria-disabled")?(e.stopImmediatePropagation(),l.focus()):(u(t),d(!0))}),x(m,"keydown",".fsb-option",function(e){var t=e.target,n=t.parentNode,i=!0;switch(e.key){case"ArrowUp":case"ArrowLeft":E(t.previousElementSibling,"prev");break;case"ArrowDown":case"ArrowRight":E(t.nextElementSibling,"next");break;case"Home":E(n.firstElementChild,"next");break;case"End":E(n.lastElementChild,"prev");break;case"PageUp":case"PageDown":break;case"Tab":u(t),d(),i=!1;break;case"Enter":case" ":u(t);case"Escape":d(!0);break;default:p(e)?f(n):i=!1}i&&e.preventDefault()}),x(m,"click",function(e){d()}),a.FancySelect=(A.init=t,A.replace=n,A.update=i,A),e&&y(t)}(window,document,"undefined"==typeof FancySelectAutoInitialize||FancySelectAutoInitialize);