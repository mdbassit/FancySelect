/*!
 * Copyright (c) 2021 Momo Bassit.
 * Licensed under the MIT License (MIT)
 * https://github.com/mdbassit/fancySelect
 */
!function(a,p){var e,i="",l=null,m=0;function s(e){var t=e.getBoundingClientRect(),n=e.nextElementSibling,r=(r=n.querySelector('[aria-selected="true"]'))||n.firstElementChild;e.setAttribute("aria-expanded","true"),r.focus(),t.y+t.height+n.offsetHeight>p.documentElement.clientHeight?e.parentNode.className="fsb-select fsb-top":e.parentNode.className="fsb-select"}function o(e){var t=p.querySelector('.fsb-button[aria-expanded="true"]');t&&(t.setAttribute("aria-expanded","false"),e&&t.focus(),i="",l=null)}function c(e){var t=e.parentNode,n=t.previousElementSibling,r=[].indexOf.call(t.children,e),a=t.querySelector('[aria-selected="true"]'),t=t.parentNode.previousElementSibling;a&&a.setAttribute("aria-selected","false"),e.setAttribute("aria-selected","true"),n.innerHTML=e.innerHTML,t.selectedIndex=r,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))}function u(e){e=function(e,t){var n,r=[].map.call(e.children,function(e){return e.textContent.trim().toLowerCase()}),a=d(r,t)[0];if(a)return e.children[r.indexOf(a)];if((n=t.split("")).every(function(e){return e===n[0]})){a=d(r,t[0]),a=a[(t.length-1)%a.length];return e.children[r.indexOf(a)]}return null}(e,i);e&&e.focus()}function d(e,t){return e.filter(function(e){return 0===e.indexOf(t.toLowerCase())})}function f(e){var t=e.key,n=e.altKey,r=e.ctrlKey,e=e.metaKey;return!(1!==t.length||n||r||e)&&(l&&a.clearTimeout(l),l=a.setTimeout(function(){i=""},500),i+=t,1)}function t(e,t,n,r){var a=Element.prototype.matches||Element.prototype.msMatchesSelector;"string"==typeof n?e.addEventListener(t,function(e){a.call(e.target,n)&&r.call(e.target,e)}):(r=n,e.addEventListener(t,r))}t(p,"click",".fsb-button",function(e){o(),s(e.target),e.preventDefault(),e.stopImmediatePropagation()}),t(p,"keydown",".fsb-button",function(e){var t=e.target,n=t.nextElementSibling,r=!0;switch(e.key){case"ArrowUp":case"ArrowDown":case"Enter":case" ":s(t);break;default:f(e)?(s(t),u(n)):r=!1}r&&e.preventDefault()}),t(p.documentElement,"mousemove",".fsb-option",function(e){e.target.focus()}),t(p,"click",".fsb-option",function(e){c(e.target),o(!0)}),t(p,"keydown",".fsb-option",function(e){var t=e.target,n=t.parentNode,r=!0;switch(e.key){case"ArrowUp":case"ArrowLeft":t.previousElementSibling&&t.previousElementSibling.focus();break;case"ArrowDown":case"ArrowRight":t.nextElementSibling&&t.nextElementSibling.focus();break;case"Home":n.firstElementChild.focus();break;case"End":n.lastElementChild.focus();break;case"PageUp":case"PageDown":break;case"Tab":c(t),o(),r=!1;break;case"Enter":case" ":c(t);case"Escape":o(!0);break;default:f(e)?u(n):r=!1}r&&e.preventDefault()}),t(p,"click",function(e){o()}),e=function(){p.querySelectorAll("select:not(.fsb-ignore)").forEach(function(e){if(!e.nextElementSibling||!e.nextElementSibling.classList.contains(".fsb-select")){var t=e.children,n=e.parentNode,r=p.createElement("span"),a=p.createElement("span"),i=p.createElement("button"),l=p.createElement("span"),s=p.createElement("span"),o=m++;a.id="fsb_"+o+"_label",a.className="fsb-label",a.textContent=function(e,t){e=e.id;"LABEL"===t.nodeName?n=t:void 0!==e&&(n=p.querySelector('label[for="'+e+'"]'));if(n){var n=[].filter.call(n.childNodes,function(e){return 3===e.nodeType}).map(function(e){return e.textContent.replace(/\s+/g," ").trim()}).filter(function(e){return""!==e})[0];if(n)return n}return""}(e,n),i.id="fsb_"+o+"_button",i.className="fsb-button",i.textContent="&nbsp;",i.setAttribute("aria-disabled",e.disabled),i.setAttribute("aria-haspopup","listbox"),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-labelledby","fsb_"+o+"_label fsb_"+o+"_button"),l.className="fsb-list",l.setAttribute("role","listbox"),l.setAttribute("tabindex","-1"),l.setAttribute("aria-labelledby","fsb_"+o+"_label");for(var c=0,u=t.length;c<u;c++){var d=t[c],f=p.createElement("span"),b=function(e){var t=e.text,e=e.getAttribute("data-icon"),t=t;null!==e&&(t='<svg><use href="'+e+'"></use></svg> '+t);return t}(d),d=d.selected;f.className="fsb-option",f.innerHTML=b,f.setAttribute("role","option"),f.setAttribute("tabindex","-1"),f.setAttribute("aria-selected",d),l.appendChild(f),d&&(i.innerHTML=b)}r.className="fsb-select",r.appendChild(a),r.appendChild(i),r.appendChild(l),r.appendChild(s),e.style.display="none",e.nextSibling?n.insertBefore(r,e.nextSibling):n.appendChild(r),l.firstElementChild&&((r=p.createElement("span")).setAttribute("style","width: "+l.firstElementChild.offsetWidth+"px;"),s.className="fsb-resize",s.appendChild(r))}})},"loading"!==p.readyState?e():p.addEventListener("DOMContentLoaded",e)}(window,document);