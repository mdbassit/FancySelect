/*!
 * Copyright (c) 2021 Momo Bassit.
 * Licensed under the MIT License (MIT)
 * https://github.com/mdbassit/fancySelect
 */
!function(a,p,e){var l=null,r="",s=null,m=0;function t(e){p.querySelectorAll(e=e||"select:not(.fsb-ignore)").forEach(n)}function n(e){if(!e.nextElementSibling||!e.nextElementSibling.classList.contains("fsb-select")){var t=e.children,n=e.parentNode,i=p.createElement("span"),a=p.createElement("span"),l=p.createElement("button"),r=p.createElement("span"),s=p.createElement("span"),o=m++;e.classList.add("fsb-original-select"),a.id="fsb_"+o+"_label",a.className="fsb-label",a.textContent=h(e,n),l.id="fsb_"+o+"_button",l.className="fsb-button",l.textContent="&nbsp;",l.setAttribute("aria-disabled",e.disabled),l.setAttribute("aria-haspopup","listbox"),l.setAttribute("aria-expanded","false"),l.setAttribute("aria-labelledby","fsb_"+o+"_label fsb_"+o+"_button"),r.className="fsb-list",r.setAttribute("role","listbox"),r.setAttribute("tabindex","-1"),r.setAttribute("aria-labelledby","fsb_"+o+"_label");for(var c=0,d=t.length;c<d;c++){var u=g(t[c]),f=u.item,b=u.selected,u=u.itemLabel;r.appendChild(f),b&&(l.innerHTML=u)}i.className="fsb-select",i.appendChild(a),i.appendChild(l),i.appendChild(r),i.appendChild(s),e.style.display="none",e.nextSibling?n.insertBefore(i,e.nextSibling):n.appendChild(i),r.firstElementChild&&((i=p.createElement("span")).setAttribute("style","width: "+r.firstElementChild.offsetWidth+"px;"),s.className="fsb-resize",s.appendChild(i))}}function i(e){var t=e.children,n=e.parentNode,i=e.nextElementSibling;if(i&&i.classList.contains("fsb-select")){var a=i.firstElementChild,l=a.nextElementSibling,r=l.nextElementSibling,i=r.nextElementSibling,s=p.createDocumentFragment();a.textContent=h(e,n),l.setAttribute("aria-disabled",e.disabled);for(var o=0,c=t.length;o<c;o++){var d=g(t[o]),u=d.item,f=d.selected,d=d.itemLabel;s.appendChild(u),f&&(l.innerHTML=d)}for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(s),r.firstElementChild&&i.firstElementChild.setAttribute("style","width: "+r.firstElementChild.offsetWidth+"px;")}}function h(e,t){e=e.id;if("LABEL"===t.nodeName?n=t:void 0!==e&&(n=p.querySelector('label[for="'+e+'"]')),n){var n=[].filter.call(n.childNodes,function(e){return 3===e.nodeType}).map(function(e){return e.textContent.replace(/\s+/g," ").trim()}).filter(function(e){return""!==e})[0];if(n)return n}return""}function g(e){var t=p.createElement("span"),n=e.selected,i=e.text,e=e.getAttribute("data-icon"),i=""!==i?i:"&nbsp;";return null!==e&&(i='<svg aria-hidden="true"><use href="'+e+'"></use></svg> <span>'+i+"</span>"),t.className="fsb-option",t.innerHTML=i,t.setAttribute("role","option"),t.setAttribute("tabindex","-1"),t.setAttribute("aria-selected",n),{item:t,selected:n,itemLabel:i}}function o(e){var t=e.getBoundingClientRect(),n=e.nextElementSibling,i=(i=n.querySelector('[aria-selected="true"]'))||n.firstElementChild;e.parentNode.className="fsb-select",e.setAttribute("aria-expanded","true"),i.focus(),l=e,t.y+t.height+n.offsetHeight>p.documentElement.clientHeight&&(e.parentNode.className="fsb-select fsb-top")}function c(e){var t=p.querySelector('.fsb-button[aria-expanded="true"]');t&&(t.setAttribute("aria-expanded","false"),e&&t.focus(),r="",s=null)}function d(e){var t=e.parentNode,n=t.previousElementSibling,i=[].indexOf.call(t.children,e),a=t.querySelector('[aria-selected="true"]'),t=t.parentNode.previousElementSibling;a&&a.setAttribute("aria-selected","false"),e.setAttribute("aria-selected","true"),n.innerHTML=e.innerHTML,t.selectedIndex=i,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))}function u(e){e=function(e,t){var n,i=[].map.call(e.children,function(e){return e.textContent.trim().toLowerCase()}),a=f(i,t)[0];if(a)return e.children[i.indexOf(a)];if((n=t.split("")).every(function(e){return e===n[0]})){a=f(i,t[0]),a=a[(t.length-1)%a.length];return e.children[i.indexOf(a)]}return null}(e,r);e&&e.focus()}function f(e,t){return e.filter(function(e){return 0===e.indexOf(t.toLowerCase())})}function b(e){var t=e.key,n=e.altKey,i=e.ctrlKey,e=e.metaKey;return!(1!==t.length||n||i||e)&&(s&&a.clearTimeout(s),s=a.setTimeout(function(){r=""},500),r+=t,1)}function E(e,t,n,i){var a=Element.prototype.matches||Element.prototype.msMatchesSelector;"string"==typeof n?e.addEventListener(t,function(e){a.call(e.target,n)&&i.call(e.target,e)}):(i=n,e.addEventListener(t,i))}function v(e,t){t=void 0!==t?t:[],"loading"!==p.readyState?e.apply(void 0,t):p.addEventListener("DOMContentLoaded",function(){e.apply(void 0,t)})}function x(){v(t)}E(p,"click",".fsb-button",function(e){c(),l===e.target?l=null:o(e.target),e.preventDefault(),e.stopImmediatePropagation()}),E(p,"keydown",".fsb-button",function(e){var t=e.target,n=t.nextElementSibling,i=!0;switch(e.key){case"ArrowUp":case"ArrowDown":case"Enter":case" ":o(t);break;default:b(e)?(o(t),u(n)):i=!1}i&&e.preventDefault()}),E(p.documentElement,"mousemove",".fsb-option",function(e){e.target.focus()}),E(p,"click",".fsb-option",function(e){l=null,d(e.target),c(!0)}),E(p,"keydown",".fsb-option",function(e){var t=e.target,n=t.parentNode,i=!0;switch(e.key){case"ArrowUp":case"ArrowLeft":t.previousElementSibling&&t.previousElementSibling.focus();break;case"ArrowDown":case"ArrowRight":t.nextElementSibling&&t.nextElementSibling.focus();break;case"Home":n.firstElementChild.focus();break;case"End":n.lastElementChild.focus();break;case"PageUp":case"PageDown":break;case"Tab":d(t),c(),i=!1;break;case"Enter":case" ":d(t);case"Escape":c(!0);break;default:b(e)?u(n):i=!1}i&&e.preventDefault()}),E(p,"click",function(e){c()}),a.FancySelect=(x.init=t,x.update=i,x),e&&v(t)}(window,document,"undefined"==typeof FancySelectAutoInitialize||FancySelectAutoInitialize);